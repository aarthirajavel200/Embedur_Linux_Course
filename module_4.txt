#!/bin/bash

INPUT_FILE="$1"
OUTPUT_FILE="output.txt"

# Check input file exists
if [ ! -f "$INPUT_FILE" ]; then
    echo "Input file not found"
    exit 1
fi

# Clear output file
> "$OUTPUT_FILE"

# Read file line by line
while read -r line
do
    echo "$line" | grep -E 'frame.time|wlan.fc.type|wlan.fc.subtype' >> "$OUTPUT_FILE"
done < "$INPUT_FILE"

echo "Output generated in output.txt"
